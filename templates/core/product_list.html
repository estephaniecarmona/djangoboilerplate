{% extends "base.html" %}

{% block content %}

<div class="container py-5">
	<h1>Register</h1>
	<form method="POST">
		{% csrf_token %}
		
		<button class="btn btn-primary" type="submit">Register</button>
	</form>
	<p class="text-center">If you already have an account, <a href="/login">login</a> instead.</p>
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<style>
  @media only screen and (max-width:800px) {
      #no-more-tables tbody,
      #no-more-tables tr,
      #no-more-tables td {
          display: block;
      }
      #no-more-tables thead tr {
          position: absolute;
          top: -9999px;
          left: -9999px;
      }
      #no-more-tables td {
          position: relative;
          padding-left: 50%;
          border: none;
          border-bottom: 1px solid #eee;
      }
      #no-more-tables td:before {
          content: attr(data-title);
          position: absolute;
          left: 6px;
          font-weight: bold;
      }
      #no-more-tables tr {
          border-bottom: 1px solid #ccc;
      }
  }
</style>

<form method = "GET">
    {{ form }}
    
    <input type = "submit" value = "Submit">
  </form>

  <form method = "GET">
    {{ expiration_count }}
    
    <input type = "submit" value = "Submit">
  </form>

  <form method = "GET"> 
    {{ filtered_products }}
    
    <input type = "submit" value = "Submit">
  </form>


    <div class="table-responsive">
        <div class="column">
          <table class="table bg-white">
            <thead class="bg-dark"></thead>
           
            <tr>
              <th>Category</th>
              <th>Product</th>
              <th>Date Purchased</th>


              
              <th>Expiration Date</th>
            </tr>
            
                
                {% for product in products %} 
            <tr>
                <td> {{ product.category }} </td>
                <td> {{ product.name }}</td>
                <td> {{ product.date_purchased|date:"F d, Y" }} </td>
                <td> {{ product.expiration }}</td>
                <td>                            
                    <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'product-update' product.id %}">Update</a>
                    <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'product-delete' product.id %}">Delete</a>
                </td>
            </tr>
                {% endfor %}
            
                

 
{% endblock %}